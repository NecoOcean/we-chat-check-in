# 教学点管理模块 - 快速导航

**版本**: v1.0.1  
**日期**: 2024-11-01  
**状态**: ✅ 生产就绪

---

## 🚀 快速开始

### 1分钟了解模块

教学点管理模块提供教学点的完整生命周期管理，包括：
- ✅ 创建、更新、删除教学点
- ✅ 启用/禁用状态管理  
- ✅ 分页查询和多条件过滤
- ✅ 市级/县级权限隔离

### 3分钟部署使用

```bash
# 1. 编译
cd backend && mvn clean install -DskipTests

# 2. 启动
cd we-chat-web && mvn spring-boot:run

# 3. 访问文档
浏览器打开: http://localhost:8080/doc.html
```

### 5分钟测试接口

```bash
# 1. 登录
TOKEN=$(curl -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}' | jq -r '.data.accessToken')

# 2. 创建教学点
curl -X POST http://localhost:8080/api/teaching-points \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"name":"测试教学点","countyCode":"PX"}'

# 3. 查询列表
curl -X GET "http://localhost:8080/api/teaching-points?status=enabled" \
  -H "Authorization: Bearer $TOKEN"
```

---

## 📚 文档导航

### 核心文档（必读）

| 文档 | 用途 | 位置 |
|------|------|------|
| 🔵 **模块README** | 功能介绍、API说明 | [README](../backend/we-chat-teaching-point/README.md) |
| 🔵 **API文档** | 接口详细说明 | [api.md](api.md#5-教学点管理) |
| 🟢 **在线文档** | 交互式API文档 | http://localhost:8080/doc.html |

### 技术文档（参考）

| 文档 | 用途 | 位置 |
|------|------|------|
| 📘 实现总结 | 架构设计、代码统计 | [实现总结](../backend/we-chat-teaching-point/教学点管理模块实现完成总结.md) |
| 📗 开发报告 | 项目概览、完成工作 | [开发报告](教学点管理模块开发完成报告.md) |
| 📕 验收报告 | 验收标准、测试结果 | [验收报告](教学点管理模块验收报告.md) |
| 📙 交付文档 | 交付清单、部署说明 | [交付文档](教学点管理模块交付文档.md) |
| 📔 优化说明 | v1.0.1优化内容 | [优化说明](教学点模块优化说明v1.0.1.md) |
| 📓 工作总结 | 工作量、成果总结 | [工作总结](教学点管理模块开发工作总结.md) |

### 项目文档（了解）

| 文档 | 用途 |
|------|------|
| 📄 版本更新说明 | [项目v1.2.0版本更新说明.md](项目v1.2.0版本更新说明.md) |
| 📄 功能说明 | [各模块实现的具体功能.md](各模块实现的具体功能.md) |
| 📄 系统架构 | [系统架构说明.md](系统架构说明.md) |

---

## 🔌 API速查

| 接口 | 方法 | 权限 | 说明 |
|------|------|------|------|
| `/api/teaching-points` | POST | 市级/县级 | 创建教学点 |
| `/api/teaching-points/{id}` | PUT | 市级/县级 | 更新教学点 |
| `/api/teaching-points/{id}` | DELETE | 市级/县级 | 删除教学点 |
| `/api/teaching-points/{id}/enable` | PUT | 市级/县级 | 启用教学点 |
| `/api/teaching-points/{id}/disable` | PUT | 市级/县级 | 禁用教学点 |
| `/api/teaching-points/{id}` | GET | 市级/县级 | 查询详情 |
| `/api/teaching-points` | GET | 市级/县级 | 查询列表 |

详细说明见：[API文档](api.md#5-教学点管理)

---

## ⚠️ 错误码速查

| 错误码 | 说明 | 处理建议 |
|--------|------|---------|
| 1801 | 教学点不存在 | 检查教学点ID是否正确 |
| 1802 | 教学点已存在 | （保留，暂未使用） |
| 1803 | 教学点名称已存在 | 同县域内名称不能重复 |
| 1804 | 教学点已被删除 | 已删除的教学点不可操作 |
| 1204 | 权限不足 | 检查是否有操作权限 |
| 1002 | 参数错误 | 检查请求参数格式 |

---

## 🎯 常见任务

### 任务1: 创建教学点
1. 登录获取token
2. 调用 `POST /api/teaching-points`
3. 传入name和countyCode

### 任务2: 查询教学点
1. 登录获取token
2. 调用 `GET /api/teaching-points`
3. 可选参数：name、countyCode、status

### 任务3: 更新教学点
1. 登录获取token
2. 调用 `PUT /api/teaching-points/{id}`
3. 传入需要更新的字段

### 任务4: 删除教学点
1. 登录获取token
2. 调用 `DELETE /api/teaching-points/{id}`
3. 软删除，数据保留

---

## 🔍 问题排查

### 问题1: 创建时提示权限不足（县级管理员）

**原因**: 县级管理员尝试创建非本县教学点  
**解决**: 确保countyCode与登录用户的县域一致

### 问题2: 查询列表为空

**原因**: 
- 县级管理员只能看本县数据
- 默认不显示已删除数据

**解决**: 
- 检查是否有本县教学点
- 尝试不传status参数或传status=enabled

### 问题3: 县域名称显示"未知县域"

**原因**: counties表中没有对应的县域记录  
**解决**: 
```sql
-- 插入县域数据
INSERT INTO counties (code, name, status) 
VALUES ('PX', '屏县', 'enabled');
```

---

## 📱 联系支持

### 获取帮助

- 📖 **查看文档**: 先查看README和API文档
- 💬 **在线文档**: http://localhost:8080/doc.html
- 🐛 **提交Issue**: 描述问题和重现步骤
- 📧 **技术支持**: 联系开发团队

### 贡献代码

欢迎提交Pull Request！

---

**最后更新**: 2024-11-01  
**文档版本**: v1.0

